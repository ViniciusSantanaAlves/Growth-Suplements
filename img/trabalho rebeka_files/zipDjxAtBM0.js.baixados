;/*FB_PKG_DELIM*/

__d("WAWebWamEnumChannelDirectoryAction",[],(function(a,b,c,d,e,f){a=Object.freeze({DIRECTORY_OPEN_TAP:1,DIRECTORY_CLOSED_TAP:2,DIRECTORY_SEARCH_TAP:3,DIRECTORY_SERVER_ERROR:4,DIRECTORY_NAVIGATE_TO_CHANNEL:5,DIRECTORY_RETURN_FROM_CHANNEL:6,DIRECTORY_FOLLOW_TAP:7,DIRECTORY_UNFOLLOW_TAP:8,DIRECTORY_SORT_BY_RECENTLY_ADDED:9,DIRECTORY_SORT_BY_POPULARITY:10,DIRECTORY_SORT_BY_ALPHABETICALLY:11,DIRECTORY_IMP:12,DIRECTORY_SEARCH_IMP:13});f.CHANNEL_DIRECTORY_ACTION=a}),66);
__d("WAWebWamEnumChannelDirectoryImpReason",[],(function(a,b,c,d,e,f){a=Object.freeze({PILL_SELECTION:1,COUNTRY_SELECTION:2,NOT_APPLICABLE:3});f.CHANNEL_DIRECTORY_IMP_REASON=a}),66);
__d("WAWebWamEnumChannelDirectoryPillSelected",[],(function(a,b,c,d,e,f){a=Object.freeze({RECOMMENDED:1,TRENDING:2,FEATURED:3,NEW:4,POPULAR:5});f.CHANNEL_DIRECTORY_PILL_SELECTED=a}),66);
__d("WAWebChannelDirectoryWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelDirectoryAction","WAWebWamEnumChannelDirectoryEntryPoint","WAWebWamEnumChannelDirectoryImpReason","WAWebWamEnumChannelDirectoryPillSelected"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({ChannelDirectory:[4544,{channelDirectoryAction:[1,d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION],channelDirectoryActionSequenceNumber:[5,a.TYPES.INTEGER],channelDirectoryEntryPoint:[2,d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT],channelDirectorySessionId:[3,a.TYPES.INTEGER],channelIndex:[6,a.TYPES.INTEGER],cid:[4,a.TYPES.STRING],countrySelector:[8,a.TYPES.STRING],impReason:[9,d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON],pillSelected:[10,d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED],searchMode:[7,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{ChannelDirectory:[]});g.ChannelDirectoryWamEvent=b}),98);
__d("WAWebNewsletterCreateAction",["WALogger","WAWebNewsletterBackendQueues","WAWebNewsletterBridgeApi","WAWebNewsletterCreateJob","WAWebNewsletterModelUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][createNewsletterAction] failed to create newsletter"]);h=function(){return a};return a}function a(a){return d("WAWebNewsletterBackendQueues").newsletterCreationQueue.enqueue(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("WAWebNewsletterCreateJob").createNewsletter(a));if(b==null){d("WALogger").ERROR(h()).tags("newsletter");return null}var c=b.newsletter;b=b.msgs;c=d("WAWebNewsletterModelUtils").mapNewsletterToModels(c);var e=c.chat,f=c.metadata;c=c.pic;yield d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.joinNewsletter({newsletter:e,metadata:f,pic:c,msgs:b});return d("WAWebWidFactory").toNewsletterWid(d("WAWebWidFactory").createWid(e.id.toString()))}))}g.createNewsletterAction=a}),98);
__d("WAWebNewNewsletterInfoDrawer.react",["fbt","WAWebButton.react","WAWebCmd","WAWebCommonNewsletterStrings","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebNetworkStatus","WAWebNewsletterCreateAction","WAWebNewsletterGatingUtils","WAWebPhotoPickerConstants","WAWebPhotoPickerLoadable.react","WAWebRichTextField.react","WAWebRichTextInputGatingUtils","WAWebServerPropsModel","WAWebToast.react","WAWebToastManager","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebWamEnumChannelAdminAction","WAWebWamEnumThreadType","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;a=k||d("react");var l=i||(i=c("react"));e=a.forwardRef;var m=a.useCallback,n=a.useEffect,o=a.useRef,p=a.useState,q={channelMetadataSection:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x1qughib",width:"xh8yej3",$$css:!0}},r=function(){},s=function(){return l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__QIx56U7p85L__JHASH__")})},t=function(){return l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__fSlIngllVWx__JHASH__")})};f=e(function(a,e){var f=p(!1),g=f[0],i=f[1];f=p("");var k=f[0],u=f[1];f=p(null);var v=f[0],w=f[1];f=p(null);var x=f[0],y=f[1],z=a.adminFunnelLogger,A=o(""),B=o(null);f=[d("WAWebUISpacing").uiPadding.horiz32,d("WAWebUISpacing").uiPadding.bottom28];n(function(){z.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_CREATE_LAUNCH_SUCCESS)},[]);var C=m(function(a){z.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_FAILURE),d("WAWebToastManager").ToastManager.open(a())},[z]),D=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i(!0);a=(yield d("WAWebNewsletterCreateAction").createNewsletterAction(a));i(!1);a!=null?(z.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_SUCCESS),d("WAWebCmd").Cmd.openCreatedNewsletter(a)):C(s)});return function(b){return a.apply(this,arguments)}}(),E=function(a){if(!c("WAWebNetworkStatus").online){C(t);return}void D(a)},F=m(function(a){a=a.text;u(a)},[]),G=m(function(a){a=a.text;w(a)},[]),H=m(function(a,b,c){y(b),z.logImageSetEvent(c)},[z]),I=k.trim().length>0,J=function(){k!==A.current&&(A.current=k,z.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_NAME_SET))},K=function(){v!==B.current&&(B.current=v,z.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_DESCRIPTION_SET))},L=function(){J(),K(),z.logEvent(d("WAWebWamEnumChannelAdminAction").CHANNEL_ADMIN_ACTION.CHANNEL_ADMIN_FLOW_CONFIRMATION_TAP),E({name:k,description:v,picture:x})};g=l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:d("WAWebUISpacing").uiPadding.bottom32,children:l.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:L,disabled:!I||g,spinner:g,children:d("WAWebCommonNewsletterStrings").getCreateChannelText()})});var M=h._("__JHASH__5oLVOKDA65Y__JHASH__"),N=h._("__JHASH__aD57QpxMoI9__JHASH__"),O=h._("__JHASH__6YdRi7KusNZ__JHASH__");return l.jsxs(c("WAWebDrawer.react"),{ref:e,testid:void 0,tsNavigationData:d("WAWebNewsletterGatingUtils").isNewsletterTSLEnabled()?{surface:"channel-create-page",extras:{threadType:d("WAWebWamEnumThreadType").THREAD_TYPE.CHANNEL}}:void 0,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__mzgSoDuVG2C__JHASH__"),type:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE,onBack:a.onBack}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs(c("WAWebDrawerSection.react"),{theme:"full-height",xstyle:q.channelMetadataSection,children:[l.jsxs("div",{children:[l.jsx("div",{className:(j||(j=c("stylex"))).apply(void 0,[d("WAWebUISpacing").uiPadding.top28].concat(f)),children:l.jsx(d("WAWebPhotoPickerLoadable.react").PhotoPickerLoadable,{type:d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER,attachToChat:!1,startImage:x,onImageSet:H})}),l.jsx("div",{"data-testid":void 0,className:j.apply(void 0,f),children:l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,title:M,value:k,maxLength:d("WAWebServerPropsModel").ServerProps.maxSubject,showRemaining:!0,onChange:F,onBlur:J,placeholder:M,onEnter:I?L:r,emojiBtnPosition:"side",focusOnMount:!0})}),l.jsx("div",{"data-testid":void 0,className:j.apply(void 0,f),children:l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,title:N,value:v,maxLength:d("WAWebServerPropsModel").ServerProps.groupDescLength,showRemaining:!0,onChange:G,onBlur:K,placeholder:O,inputPlaceholder:N,onEnter:I?L:r,emojiBtnPosition:"side",multiline:!0,maxVisibleLines:5,minVisibleLines:5,textFormatEnabled:!0,bulletPointsEnabled:!0,numberedListEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled(),blockQuoteEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled(),inlineCodeEnabled:d("WAWebRichTextInputGatingUtils").formattingV2ExpansionEnabled(),theme:"gray-background"})})]}),g]})})]})});a=f;g["default"]=a}),226);
__d("WAWebNewsletterDirectoryActionButton.react",["WAWebCheckmarkIcon","WAWebModalManager","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebNewsletterQuickFollowButton.react","WAWebNewsletterSubscribeAction","WAWebPlusLargeIcon","WAWebSpinner.react","WAWebSvgComponentBase","WAWebUnfollowNewsletterConfirmationModal.react","WAWebUnstyledButton.react","WAWebWamEnumChannelEventSurface","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function a(a){var b=a.directoryFunnelLogger,e=a.iconSize,f=a.newsletter,g=a.newsletterIndexInDirectory;a=k(!1);var h=a[0],i=a[1];a=d("useWAWebModelValues").useOptionalModelValues(f.newsletterMetadata,["isPreview","membershipType"]);if(a==null)return null;if(d("WAWebNewsletterMembershipUtil").iAmOwner(a)||d("WAWebNewsletterMembershipUtil").iAmAdmin(a))return null;var l=a.isPreview,m={eventSurface:(b==null?void 0:b.searchMode)?d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY_SEARCH:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_DIRECTORY},n=function(){b==null?void 0:b.logNewsletterFollow(f.id,g)},o=function(){b==null?void 0:b.logNewsletterUnfollow(f.id,g)};if(d("WAWebNewsletterGatingUtils").isNewsletterDirectoryQuickActionButtonEnabled())return j.jsx(d("WAWebNewsletterQuickFollowButton.react").NewsletterQuickFollowButton,{confirmUnfollow:!0,hasBorder:!0,onFollowAction:n,onUnfollowAction:o,following:a.isPreview===!1,loggingOptions:m,newsletter:f});a=function(a){a.stopPropagation();i(!0);if(l){a=d("WAWebNewsletterSubscribeAction").subscribeToDirectoryNewsletter(f,babelHelpers["extends"]({},m));a["finally"](function(){i(!1),n()})}else d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:f,loggingOptions:m})),i(!1),o(),b==null?void 0:b.logNewsletterUnfollow(f.id,g)};if(h)return j.jsx(d("WAWebSpinner.react").Spinner,{size:e,stroke:6,color:"highlight"});h=l?d("WAWebPlusLargeIcon").PlusLargeIcon:d("WAWebCheckmarkIcon").CheckmarkIcon;return j.jsx(c("WAWebUnstyledButton.react"),{onClick:a,children:j.jsx(h,{width:e,height:e,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL_LIGHTER})})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterDirectoryActionButton=a}),98);
__d("WAWebOpenNewsletterChat",["WAWebChatEntryPoint","WAWebCmd","WAWebComposeBoxActions","WAWebConversationPanelActions","WAWebModalManager","WAWebNewsletterGatingUtils","WAWebNewsletterOpenQPLLogger","WAWebPDFNGatingUtils","WAWebPDFNModal.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebCmd").Cmd.openChatFromUnread(a,d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterChatlist));c&&(d("WAWebConversationPanelActions").ConversationPanelActions.focus(),d("WAWebComposeBoxActions").ComposeBoxActions.focus(a));b==null?void 0:b.end({success:c});return a});return k.apply(this,arguments)}a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebNewsletterGatingUtils").isNewsletterQPLLoggingEnabled()?new(d("WAWebNewsletterOpenQPLLogger").WAWebNewsletterOpenQPLLogger)():null,c=a.newsletter,e=a.onSelect;b==null?void 0:b.annotate(c,a.chatEntryPoint);e==null?void 0:e();if(d("WAWebPDFNGatingUtils").hasAcceptedNewsletterTos())return j(c,b);d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebPDFNModal.react").PDFNModal,{pdfnId:parseInt(d("WAWebNewsletterGatingUtils").getNewsletterConsumerTos(),10),verifyTosAccepted:d("WAWebPDFNGatingUtils").hasAcceptedNewsletterTos,runIfTosAccepted:function(){return j(c,b)}}))});return function(b){return a.apply(this,arguments)}}();g.openNewsletterChat=a}),98);
__d("WAWebNewsletterCells.react",["fbt","WAWebABProps","WAWebChat.react","WAWebCommonNewsletterStrings","WAWebDetailImage.react","WAWebKeyboardHotKeys.react","WAWebName.react","WAWebNewsletterDirectoryActionButton.react","WAWebNewsletterGatingUtils","WAWebOpenNewsletterChat","WAWebOpenNewsletterPreviewChat","WAWebWDSCell.react","WAWebWDSText.react","react","useWAWebActiveSelection","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={title:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=a.active,e=a.chatEntryPoint,f=a.firstCellInList,g=a.heightStyle,i=a.newsletter,k=a.onSelect;a=a.searchQuery;b=c("useWAWebActiveSelection")(b,"newsletter-local-"+i.id.toString());var l=b[0];b=b[1];var m=h._("__JHASH__ZmvPdVIGFzJ__JHASH__",[h._param("newsletter-name",i.formattedTitle)]),n=function(a){a.preventDefault(),void d("WAWebOpenNewsletterChat").openNewsletterChat({newsletter:i,onSelect:k,chatEntryPoint:e})},o={enter:n,space:n},p=!d("WAWebABProps").getABPropConfigValue("channels_verified_badge_in_compact_inbox_enabled");return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:l,handlers:o,"aria-label":m.toString(),role:"button","data-testid":void 0,children:j.jsx(d("WAWebChat.react").Chat,{onClick:n,chat:i,searchQuery:a,forceActive:b,theme:"newsletter-cell",firstCellInList:f,noContext:!d("WAWebNewsletterGatingUtils").isNewsletterContextMenuEnabled(i),doNotBoldUnread:!0,hideArchivedIcon:!0,heightStyle:g,skipCheckMark:p})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b,e=a.newsletter,f=a.onSelect,g=a.chatEntryPoint,h=a.index,i=a.directoryFunnelLogger,l=c("useWAWebActiveSelection")(a.active,"newsletter-"+a.newsletter.id.toString()),m=l[0];l=l[1];var n=d("useWAWebModelValues").useOptionalModelValues(e.newsletterMetadata,["name","size","inviteCode","isPreview"]);if(n==null)return null;var o=function(){i==null?void 0:i.logNavigateToNewsletterFromRow(e.id,h),f==null?void 0:f(),d("WAWebOpenNewsletterPreviewChat").openNewsletterPreviewChat(n.inviteCode,g)},p={enter:o,space:o};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:m,role:"button","data-testid":void 0,handlers:p,children:j.jsx(d("WAWebWDSCell.react").WDSCell,{active:l,onClick:o,colorScheme:"default",size:"large",border:a.bottomItem===!0?null:"bottom-partial",primary:j.jsx(d("WAWebWDSText.react").WDSTextTitle,{xstyle:k.title,children:j.jsx(d("WAWebName.react").Name,{chat:e,ellipsify:!0,highlightText:a.highlightText})}),secondary:j.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:d("WAWebCommonNewsletterStrings").getNewsletterFollowersText(n.size)}),detailLeft:j.jsx(d("WAWebDetailImage.react").DetailImage,{id:e.id,size:d("WAWebDetailImage.react").DetailImageSize.Small,quality:d("WAWebDetailImage.react").DetailImageQuality.Low,showOutline:!0}),detailRight:j.jsx(d("WAWebNewsletterDirectoryActionButton.react").NewsletterDirectoryActionButton,{iconSize:24,newsletter:e,newsletterIndexInDirectory:h,directoryFunnelLogger:i})})})}b.displayName=b.name+" [from "+f.id+"]";g.NewsletterChatCell=a;g.NewsletterDirectoryCell=b}),226);
__d("WAWebSectionHeaderWithAction.react",["WAWebChevronLeftIcon","WAWebChevronRightIcon","WAWebFlex.react","WAWebL10N","WAWebSvgComponentBase","WAWebUnstyledButton.react","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=a.actionText,c=a.onClick,e=a.title;a=a.xstyle;return i.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",xstyle:a,children:[i.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:e}),i.jsx(j,{onClick:c,text:b})]})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.onClick;a=a.text;var e=c("WAWebL10N").isRTL()?d("WAWebChevronLeftIcon").ChevronLeftIcon:d("WAWebChevronRightIcon").ChevronRightIcon;return i.jsx(c("WAWebUnstyledButton.react"),{onClick:b,children:i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[i.jsx(d("WAWebWDSText.react").WDSTextSectionTitle,{children:a}),i.jsx(e,{height:24,width:24,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL})]})})}j.displayName=j.name+" [from "+f.id+"]";g.SectionHeaderWithAction=a}),98);
__d("WAWebNewsletterDirectoryEntrySectionHeader.react",["fbt","WAWebBaseShimmerComponents.react","WAWebFlex.react","WAWebSectionHeaderWithAction.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.isLoading,c=a.onSeeAllNewsletters,e=a.title;a=a.xstyle;return b===!0?j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:a,children:j.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:18,width:250})}):j.jsx(d("WAWebSectionHeaderWithAction.react").SectionHeaderWithAction,{xstyle:a,title:e,actionText:h._("__JHASH__QK8_W3sE6ux__JHASH__"),onClick:c})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterDirectoryEntrySectionHeader=a}),226);
__d("WAWebNewsletterDirectoryFunnelLogging",["WALogger","WAWebChannelDirectoryWamEvent","WAWebNewsletterAttributionLogging","WAWebNewsletterDirectoryFilterUtils","WAWebNewsletterGatingUtils","WAWebWamEnumChannelDirectoryAction","WAWebWamEnumChannelDirectoryImpReason","WAWebWamEnumChannelDirectoryPillSelected","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[NewsletterDirectoryFunnelLogging] Could not log row actions: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[NewsletterDirectoryFunnelLogging] entrypoint is null"]);i=function(){return a};return a}function j(a){if(a==null)return void 0;switch(a){case d("WAWebNewsletterDirectoryFilterUtils").NewsletterDirectoryListView.Recommended:return d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED.RECOMMENDED;case d("WAWebNewsletterDirectoryFilterUtils").NewsletterDirectoryListView.New:return d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED.NEW;case d("WAWebNewsletterDirectoryFilterUtils").NewsletterDirectoryListView.Popular:return d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED.POPULAR;case d("WAWebNewsletterDirectoryFilterUtils").NewsletterDirectoryListView.Trending:return d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED.TRENDING;case d("WAWebNewsletterDirectoryFilterUtils").NewsletterDirectoryListView.Featured:return d("WAWebWamEnumChannelDirectoryPillSelected").CHANNEL_DIRECTORY_PILL_SELECTED.FEATURED}}function k(a){return a===""?"Global":a}a=function(){function a(){this.$1=!1,this.sessionId=Math.round(Math.random()*1e9),this.eventSequence=0,this.searchMode=!1,d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectorySessionId(this.sessionId)}var b=a.prototype;b.$2=function(){this.eventSequence+=1};b.setSearchMode=function(a){this.searchMode=a};b.logDirectoryOpen=function(a){var b=a.entryPointToLog,c=a.countryCode;a=a.listView;if(this.$1)return;b=b;b==null&&(d("WALogger").WARN(i()),b=void 0);this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_OPEN_TAP,entryPoint:b});a!=null&&d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectoryFilter(d("WAWebNewsletterDirectoryFilterUtils").getNewsletterDirectoryFilterFromListView(a));this.logV2Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:j(a),countrySelector:c,entryPoint:b,impReason:d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON.NOT_APPLICABLE});this.$1=!0};b.logDirectoryClose=function(){d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectorySessionId(null),d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectoryFilter(null),this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_CLOSED_TAP})};b.logSearchTap=function(){if(this.searchMode)return;this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_TAP});this.logV2Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SEARCH_IMP})};b.logServerError=function(){this.logEvent({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_SERVER_ERROR})};b.logViewChange=function(a,b){d("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setDirectoryFilter(d("WAWebNewsletterDirectoryFilterUtils").getNewsletterDirectoryFilterFromListView(a)),this.$3({view:a,countryCode:b,impReason:d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON.PILL_SELECTION})};b.logRegionChange=function(a,b){this.$3({view:b,countryCode:a,impReason:d("WAWebWamEnumChannelDirectoryImpReason").CHANNEL_DIRECTORY_IMP_REASON.COUNTRY_SELECTION})};b.$3=function(a){var b=a.view,c=a.countryCode;a=a.impReason;if(this.searchMode)return;this.logV2Event({action:d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_IMP,pillSelected:j(b),countrySelector:c,impReason:a})};b.$4=function(a,b,c){try{this.logEvent({action:a,channelIndex:c,cid:d("WAWebWidFactory").toNewsletterWid(b).user})}catch(a){d("WALogger").WARN(h(),a)}};b.logNavigateToNewsletterFromRow=function(a,b){this.$4(d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_NAVIGATE_TO_CHANNEL,a,b)};b.logNewsletterFollow=function(a,b){this.$4(d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_FOLLOW_TAP,a,b)};b.logNewsletterUnfollow=function(a,b){this.$4(d("WAWebWamEnumChannelDirectoryAction").CHANNEL_DIRECTORY_ACTION.DIRECTORY_UNFOLLOW_TAP,a,b)};b.logEvent=function(a){if(!d("WAWebNewsletterGatingUtils").isNewsletterDirectoryLoggingEnabled())return;this.$5(babelHelpers["extends"]({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode},a));this.$2()};b.logV2Event=function(a){if(!d("WAWebNewsletterGatingUtils").isNewsletterDirectoryLoggingEnabled())return;this.$5(babelHelpers["extends"]({sessionId:this.sessionId,eventSequence:this.eventSequence,searchMode:this.searchMode,countrySelector:a.countrySelector==null?void 0:k(a.countrySelector)},a));this.$2()};b.$5=function(a){var b=a.sessionId,c=a.eventSequence,e=a.action,f=a.channelIndex,g=a.cid,h=a.searchMode,i=a.entryPoint,j=a.pillSelected,k=a.countrySelector;a=a.impReason;b=new(d("WAWebChannelDirectoryWamEvent").ChannelDirectoryWamEvent)({channelDirectorySessionId:b,channelDirectoryActionSequenceNumber:c,channelDirectoryAction:e,channelDirectoryEntryPoint:i,cid:g,searchMode:h,channelIndex:f,pillSelected:j,countrySelector:k,impReason:a});b.commit()};return a}();g.NewsletterDirectoryFunnelLogger=a}),98);
__d("WAWebNewsletterDirectoryShimmer.react",["WAWebBaseShimmerComponents.react","WAWebFlex.react","WAWebUISpacing","lodash","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={cellHeight:{minHeight:"xuwdbiy",$$css:!0},container:{backgroundColor:"x150wa6m",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function k(){return i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:j.cellHeight,children:[i.jsx(d("WAWebBaseShimmerComponents.react").CircleShimmer,{diameter:49,xstyle:d("WAWebUISpacing").uiMargin.end15}),i.jsxs(d("WAWebFlex.react").FlexColumn,{children:[i.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:12,width:139,xstyle:d("WAWebUISpacing").uiMargin.bottom12}),i.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:10,width:75})]})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.count;return i.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:j.container,children:c("lodash").times(a,function(a){return i.jsx(d("WAWebFlex.react").FlexColumn,{align:"start",xstyle:[d("WAWebUISpacing").uiMargin.horiz13,d("WAWebUISpacing").uiMargin.vert12],children:i.jsx(k,{})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterFooterWithActionLink.react",["WAWebFlex.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={border:{borderTopColor:"x1nfbk4f",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},footer:{textAlign:"x2b8uid",boxSizing:"x9f619",minHeight:"xn7apww",$$css:!0}};b={semiBold:{fontWeight:"xk50ysn",$$css:!0}};function a(a){var b=a.showBorder;a=a.text;return i.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiPadding.horiz8,d("WAWebUISpacing").uiPadding.vert16,j.footer,b&&j.border],justify:"center",children:i.jsx("span",{className:"x1evy7pa x1f6kntn xhgddhk",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g.footerTextStyles=b;g.NewsletterFooterWithActionLink=a}),98);
__d("WAWebWamEnumUpdateTabSearchEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({SEARCH_TAP:1,STATUS_TAP:2,FOLLOWED_CHANNEL_TAP:3,DIRECTORY_CHANNEL_TAP:4});f.UPDATE_TAB_SEARCH_EVENT_TYPE=a}),66);
__d("WAWebUpdatesTabSearchWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumUpdateTabSearchEventType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({UpdatesTabSearch:[4838,{channelsAdminCount:[5,a.TYPES.INTEGER],channelsFollowedCount:[1,a.TYPES.INTEGER],recentStatusItemCount:[2,a.TYPES.INTEGER],recentStatusRowCount:[3,a.TYPES.INTEGER],updateTabSearchEventType:[4,d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE],viewedStatusItemCount:[6,a.TYPES.INTEGER],viewedStatusRowCount:[7,a.TYPES.INTEGER]},[1,1,1],"regular"]},{UpdatesTabSearch:[]});g.UpdatesTabSearchWamEvent=b}),98);
__d("WAWebNewsletterInboxSearchLogging",["WAWebNewsletterGatingUtils","WAWebUpdatesTabSearchWamEvent"],(function(a,b,c,d,e,f,g){function a(a){if(!d("WAWebNewsletterGatingUtils").isNewsletterInboxSearchLoggingEnabled())return;a=new(d("WAWebUpdatesTabSearchWamEvent").UpdatesTabSearchWamEvent)(a);a.commit()}g.logNewsletterInboxSearchEvent=a}),98);
__d("WAWebNewsletterInboxSearch.react",["WAWebChatEntryPoint","WAWebChatListSearch.react","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebDrawerSection.react","WAWebEmptyState.react","WAWebFbtCommon","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebListFilterButton.react","WAWebNewsletterGatingUtils","WAWebNewsletterInboxSearchLogging","WAWebNewsletterMembershipUtil","WAWebOpenNewsletterChat","WAWebUISpacing","WAWebUnstyledButton.react","WAWebWDSText.react","WAWebWamEnumUpdateTabSearchEventType","react"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useRef,l=e.useState,m={searchContainer:{borderBottomColor:"xa93pmm",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},inboxFilters:{position:"x1n2onr6",boxSizing:"x9f619",backgroundColor:"x213jzs",$$css:!0},emptyUnreadResult:{maxHeight:"x569fbc",boxSizing:"x1afcbsf",$$css:!0}},n=function(a){var b={followedChannelsCount:0,adminChannelsCount:0};a.forEach(function(a){d("WAWebNewsletterMembershipUtil").iAmSubscriber(a.newsletterMetadata)?b.followedChannelsCount++:d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a.newsletterMetadata)&&b.adminChannelsCount++});return b};e=j.forwardRef(a);function a(a,b){var e=a.filteredText,f=a.handleSearchChange,g=a.handleSelectNewsletter,h=a.listData,i=a.newsletters,o=a.searchQuery,p=a.selectedFilter,q=a.setSelectedFilter;a=l(!1);var r=a[0],s=a[1];a=k();i=n(i);var t=i.followedChannelsCount,u=i.adminChannelsCount;i=d("WAWebNewsletterGatingUtils").isNewsletterInboxFiltersEnabled()?j.jsx(d("WAWebFlex.react").FlexRow,{shrink:0,wrap:"wrap",rowGap:8,columnGap:8,ref:a,style:{marginTop:r?-((a=(i=a.current)==null?void 0:i.clientHeight)!=null?a:0)-8:0,transition:"margin-top 0.1s linear"},xstyle:[d("WAWebUISpacing").uiPadding.horiz12,d("WAWebUISpacing").uiMargin.bottom8,m.inboxFilters],children:Array.from(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.members()).map(function(a){if(a===d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels&&u===0)return null;var b=function(){return q(a)};return j.jsx(d("WAWebListFilterButton.react").ListFilterButton,{label:d("WAWebCommonNewsletterStrings").getChannelInboxFilterLabel(a),onClick:b,selected:p===a},a)})}):null;a=function(){e.trim()===""&&s(!1)};var v=function(){s(!1)},w=function(){e.trim()===""&&d("WAWebNewsletterInboxSearchLogging").logNewsletterInboxSearchEvent({updateTabSearchEventType:d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE.SEARCH_TAP,channelsFollowedCount:t,channelsAdminCount:u})},x=function(){e.trim()===""&&(r||w(),q(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All),s(!0))},y=function(a){var b=h.length===0?null:h[0];b!=null&&b.type==="NEWSLETTER_CHAT_CELL"&&(a.preventDefault(),void d("WAWebOpenNewsletterChat").openNewsletterChat({newsletter:b.newsletter,onSelect:g(b),chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectorySearch}))},z=function(a){o.updateQuery(a),f(a)};return j.jsxs(c("WAWebDrawerSection.react"),{shadow:!1,animation:!1,theme:"list-section",xstyle:!d("WAWebNewsletterGatingUtils").isNewsletterCompactInboxEnabled()&&m.searchContainer,children:[j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{onBlur:a,children:j.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:b,placeholder:c("WAWebFbtCommon")("Search"),onSearch:z,borderBottom:!1,onEnter:y,onSearchInputFocus:x,onBackButton:v})}),i]})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.setSelectedFilter;return j.jsx(d("WAWebEmptyState.react").Empty,{title:d("WAWebCommonNewsletterStrings").getNoUnreadChannelsFoundText(),xstyle:m.emptyUnreadResult,children:j.jsx(c("WAWebUnstyledButton.react"),{onClick:function(){return b(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All)},children:j.jsx(d("WAWebWDSText.react").WDSTextSectionTitle,{color:"teal",children:d("WAWebCommonNewsletterStrings").getViewAllChannelsText()})})})}b.displayName=b.name+" [from "+f.id+"]";g.NewsletterInboxSearch=e;g.NewsletterInboxEmptyUnreadSection=b}),98);
__d("WAWebNewsletterDrawerListItem.react",["fbt","WAWebDrawerSection.react","WAWebEmptyState.react","WAWebFlex.react","WAWebNewsletterCells.react","WAWebNewsletterFooterWithActionLink.react","WAWebNewsletterInboxSearch.react","WAWebSectionHeader.react","WAWebUISpacing","WAWebWDSText.react","WAWebWamEnumChannelDirectoryEntryPoint","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useCallback,n={myChannelsFooter:{borderTopColor:"x1nfbk4f",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",height:"xjm9jq1",$$css:!0}},o={NEWSLETTER_CHAT_CELL:"NEWSLETTER_CHAT_CELL",NEWSLETTER_DIRECTORY_CELL:"NEWSLETTER_DIRECTORY_CELL",NEWSLETTER_DIRECTORY_NO_RESULTS:"NEWSLETTER_DIRECTORY_NO_RESULTS",NEWSLETTER_CELL_HEADER:"NEWSLETTER_CELL_HEADER",MY_NEWSLETTERS_FOOTER:"MY_NEWSLETTERS_FOOTER",SEARCH_FOOTER:"SEARCH_FOOTER",NEWSLETTER_EMPTY_UNREAD:"NEWSLETTER_EMPTY_UNREAD"};function a(a){var b=a.data,e=a.selectionRef,f=a.onSelect,g=a.onNewsletterDirectorySearch,i=a.bottomDirectoryIndex,k=a.firstCellInList;a=a.searchQuery;var p=m(function(){f(b)},[f,b]);switch(b.type){case o.NEWSLETTER_CHAT_CELL:return l.jsx(c("WAWebDrawerSection.react"),{shadow:!1,animation:!1,children:l.jsx(d("WAWebNewsletterCells.react").NewsletterChatCell,{searchQuery:a,newsletter:b.newsletter,heightStyle:b.heightStyle,active:e,onSelect:p,chatEntryPoint:b.chatEntryPoint,firstCellInList:k})});case o.NEWSLETTER_DIRECTORY_CELL:return l.jsx(c("WAWebDrawerSection.react"),{shadow:!1,animation:!1,children:l.jsx(d("WAWebNewsletterCells.react").NewsletterDirectoryCell,{active:e,newsletter:b.newsletter,onSelect:p,chatEntryPoint:b.chatEntryPoint,index:b.index,highlightText:a.query,directoryFunnelLogger:b.directoryFunnelLogger,bottomItem:b.index===i})});case o.NEWSLETTER_CELL_HEADER:k=l.jsx("div",{className:"xwa7hi x6ikm8r x10wlt62",children:l.jsx(c("WAWebSectionHeader.react"),{header:b.title})});return b.hasTopBorder?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:(j||(j=c("stylex")))(n.myChannelsFooter,d("WAWebUISpacing").uiMargin.horiz13)}),k]}):k;case o.MY_NEWSLETTERS_FOOTER:return l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[n.myChannelsFooter,d("WAWebUISpacing").uiMargin.horiz13]});case o.SEARCH_FOOTER:return l.jsx(d("WAWebNewsletterFooterWithActionLink.react").NewsletterFooterWithActionLink,{showBorder:!0,text:h._("__JHASH__JrX5ZZhGeNv__JHASH__",[h._implicitParam("=m1",l.jsx(d("WAWebWDSText.react").WDSClickableText,{color:"teal",xstyle:d("WAWebNewsletterFooterWithActionLink.react").footerTextStyles.semiBold,onClick:function(){return g(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.UPDATES_TAB_SEARCH)},children:h._("__JHASH__nXmpfK3CFCf__JHASH__")}))])});case o.NEWSLETTER_DIRECTORY_NO_RESULTS:return l.jsx(d("WAWebEmptyState.react").NoSearchResults,{center:!0});case o.NEWSLETTER_EMPTY_UNREAD:return l.jsx(d("WAWebNewsletterInboxSearch.react").NewsletterInboxEmptyUnreadSection,{setSelectedFilter:b.setSelectedFilter});default:b.type}}g.TabCellDataType=o;g.NewsletterDrawerListItem=a}),226);
__d("WAWebNewsletterFailures.react",["fbt","WAWebBootstrapNewsletter","WAWebFbtCommon","WAWebFlex.react","WAWebUISpacing","WAWebWDSButton","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(){return d("WAWebBootstrapNewsletter").bootstrapNewsletterBackend()};return j.jsxs(d("WAWebFlex.react").FlexContainer,{direction:"vertical",align:"center",justify:"center",xstyle:d("WAWebUISpacing").marginTop32,children:[j.jsx(d("WAWebWDSText.react").WDSTextTitle,{marginBottom:16,children:h._("__JHASH__qJxavW1ZtDi__JHASH__")}),j.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:a,children:c("WAWebFbtCommon")("Try again")})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterFailedBootstrap=a}),226);
__d("WAWebNewsletterInboxShimmer.react",["WAWebBaseShimmerComponents.react","WAWebFlex.react","WAWebUISpacing","lodash","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={outerContainer:{width:"x1r38tzb",boxSizing:"x9f619",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function a(a){a=a.count;return i.jsx(d("WAWebFlex.react").FlexColumn,{children:c("lodash").times(a,function(a){var b,c;return i.jsxs(d("WAWebFlex.react").FlexColumn,{align:"start",xstyle:[(b=d("WAWebUISpacing")).marginHoriz13,b.paddingVert12,j.outerContainer],children:[i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"start",xstyle:b.marginBottom5,children:[i.jsx((c=d("WAWebBaseShimmerComponents.react")).CircleShimmer,{diameter:36,xstyle:b.marginEnd12}),i.jsx(c.RectangleShimmer,{width:108,height:12})]}),i.jsxs(d("WAWebFlex.react").FlexColumn,{align:"start",children:[i.jsx(c.RectangleShimmer,{width:308,height:10,xstyle:b.marginTop5}),i.jsx(c.RectangleShimmer,{width:238,height:10,xstyle:[b.marginTop10,b.marginBottom28]})]})]},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterRecommendedBlockHeading.react",["fbt","WAWebKeyboardHotKeys.react","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={headingContainer:{textAlign:"x2b8uid",$$css:!0}};function a(a){a=a.xstyle;var b=j.jsx(d("WAWebWDSText.react").WDSTextLarge,{children:h._("__JHASH__eiGO0WMw-gE__JHASH__")}),c=j.jsx(d("WAWebWDSText.react").WDSTextTitle,{margin:8,color:"secondary",children:h._("__JHASH__zUqgbnL9eaE__JHASH__")});return j.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{xstyle:[k.headingContainer,a],children:[b,c]})}a.displayName=a.name+" [from "+f.id+"]";g.RecommendedNewsletterBlockHeading=a}),226);
__d("WAWebNewsletterRecommendationsShimmer.react",["WAWebBaseShimmerComponents.react","WAWebFlex.react","WAWebNewsletterGatingUtils","WAWebNewsletterRecommendedBlockHeading.react","WAWebNewsletterRecommendedV2Item.react","WAWebUISpacing","lodash","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a){a=a.xstyle;return i.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:a,children:[i.jsx(d("WAWebBaseShimmerComponents.react").CircleShimmer,{diameter:64,xstyle:d("WAWebUISpacing").uiMargin.bottom8}),i.jsx(d("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:72})]})}j.displayName=j.name+" [from "+f.id+"]";function k(a){a=a.count;return d("WAWebNewsletterGatingUtils").isRecommendedUnitV2Enabled()?i.jsx(d("WAWebFlex.react").FlexColumn,{rowGap:8,align:"center",xstyle:d("WAWebUISpacing").uiMargin.top16,children:c("lodash").times(a,function(){return i.jsxs(d("WAWebFlex.react").FlexRow,{columnGap:8,children:[i.jsx(d("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),i.jsx(d("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),i.jsx(d("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{})]})})}):i.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top24,justify:"center",children:i.jsx(d("WAWebFlex.react").FlexColumn,{children:c("lodash").times(a,function(a){var b;return i.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:(b=d("WAWebUISpacing")).uiMargin.vert16,align:"center",children:[i.jsx(j,{xstyle:b.uiMargin.end10}),i.jsx(j,{xstyle:b.uiMargin.horiz10}),i.jsx(j,{xstyle:b.uiMargin.horiz10}),i.jsx(j,{xstyle:b.uiMargin.start10})]},a)})})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.count;return i.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiMargin.top24,align:"center",children:[i.jsx(d("WAWebNewsletterRecommendedBlockHeading.react").RecommendedNewsletterBlockHeading,{}),i.jsx(k,{count:a})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendationsBlockShimmer=a}),98);
__d("WAWebNewsletterRecommendedUnit.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Block","Row"]);f.RecommendedUnitLayoutType=a}),66);
__d("WAWebNewsletterRecommendedV2RowUnit.react",["WAWebChatEntryPoint","WAWebNewsletterDirectoryEntrySectionHeader.react","WAWebNewsletterLoggingContext","WAWebNewsletterRecommendedV2Unit.react","WAWebUISpacing","WAWebWamEnumChannelDirectoryEntryPoint","WAWebWamEnumChannelEntryPoint","WAWebWamEnumChannelEventSurface","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useMemo,m={rowBorder:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function a(a){var b=a.afterFollow,e=a.isLoading,f=a.newsletters,g=a.onSeeAllClick,h=a.showBorder;h=h===void 0?!0:h;var j=a.title;a=a.xstyle;var n=l(function(){return{entryPoint:d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.RECOMMENDED_LIST}},[]);return k.jsxs("div",{className:(i||(i=c("stylex")))(a),children:[k.jsx("div",{className:i(h&&m.rowBorder,d("WAWebUISpacing").uiMargin.horiz13,d("WAWebUISpacing").uiMargin.bottom24)}),k.jsx(d("WAWebNewsletterDirectoryEntrySectionHeader.react").NewsletterDirectoryEntrySectionHeader,{xstyle:[d("WAWebUISpacing").uiMargin.bottom15,d("WAWebUISpacing").uiPadding.horiz13],title:j,onSeeAllNewsletters:function(){g(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)},isLoading:e}),k.jsx("div",{className:i(d("WAWebUISpacing").uiMargin.start13),children:k.jsx(c("WAWebNewsletterLoggingContext").Provider,{value:n,children:k.jsx(d("WAWebNewsletterRecommendedV2Unit.react").NewsletterRecommendedUnit,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation,isLoading:e,newsletters:f,isFullUnit:!1,afterFollow:b})})})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendedRowUnit=a}),98);
__d("WAWebNewsletterRecommendedV3.react",["WAWebChatEntryPoint","WAWebCommonNewsletterStrings","WAWebFlex.react","WAWebNewsletterCells.react","WAWebNewsletterDirectoryShimmer.react","WAWebNewsletterGatingUtils","WAWebNewsletterRecommendedBlockHeading.react","WAWebNewsletterRecommendedUnit.flow","WAWebUISpacing","WAWebWDSButton","WAWebWDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={header:{width:"xh8yej3",boxSizing:"x9f619",$$css:!0}};function a(a){var b=a.layout,c=a.loading,e=a.onDiscoverMoreClick;a=a.recommendedNewsletters;return j.jsxs(d("WAWebFlex.react").FlexColumn,{shrink:0,align:"center",testid:void 0,children:[j.jsx(m,{layout:b}),j.jsx(l,{items:a,loading:c}),j.jsx(n,{onClick:e})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.items;a=a.loading;var e=d("WAWebNewsletterGatingUtils").getRecommendedUnitRowCount();if(a)return j.jsx(c("WAWebNewsletterDirectoryShimmer.react"),{count:e});var f=b.slice(0,e);return j.jsx("div",{className:"xh8yej3",children:f.map(function(a,b){return j.jsx(d("WAWebNewsletterCells.react").NewsletterDirectoryCell,{testid:void 0,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation,newsletter:a,index:b,onSelect:null,bottomItem:b===f.length-1},a.id.toString())})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.layout;switch(a){case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Block:return j.jsx(d("WAWebNewsletterRecommendedBlockHeading.react").RecommendedNewsletterBlockHeading,{xstyle:d("WAWebUISpacing").uiMargin.bottom16});case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Row:return j.jsx(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.bottom4,k.header],children:j.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:d("WAWebCommonNewsletterStrings").getFindChannelsToFollowText()})})}}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.onClick;return j.jsx("div",{className:(h||(h=c("stylex")))(d("WAWebUISpacing").uiPadding.all16),children:j.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:a,testid:void 0,children:d("WAWebCommonNewsletterStrings").getDiscoverMoreText()})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNewsletterRecommendedV2BlockUnit.react",["WAWebChatEntryPoint","WAWebCommonNewsletterStrings","WAWebFlex.react","WAWebNewsletterGatingUtils","WAWebNewsletterLoggingContext","WAWebNewsletterRecommendedBlockHeading.react","WAWebNewsletterRecommendedV2Unit.react","WAWebUISpacing","WAWebWDSButton","WAWebWamEnumChannelEntryPoint","WAWebWamEnumChannelEventSurface","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useMemo;function a(a){var b=a.isLoading,e=a.newsletters;a=a.onSeeAllClick;a=d("WAWebNewsletterGatingUtils").isNewsletterDirectoryEnabled()?k.jsx(d("WAWebWDSButton").WDSButtonPrimary,{testid:void 0,onClick:a,children:d("WAWebCommonNewsletterStrings").getFindNewslettersText()}):null;var f=l(function(){return{entryPoint:d("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.RECOMMENDED_LIST}},[]);return k.jsxs("div",{className:"xdmi676",children:[k.jsx("div",{className:(i||(i=c("stylex")))([d("WAWebUISpacing").uiMargin.top24,d("WAWebUISpacing").uiMargin.bottom20,d("WAWebUISpacing").uiMargin.horiz32]),children:k.jsx(d("WAWebNewsletterRecommendedBlockHeading.react").RecommendedNewsletterBlockHeading,{})}),k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",children:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"start",align:"start",children:k.jsx(c("WAWebNewsletterLoggingContext").Provider,{value:f,children:k.jsx(d("WAWebNewsletterRecommendedV2Unit.react").NewsletterRecommendedUnit,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsLetterRecommendation,isLoading:b,newsletters:e,isFullUnit:!0})})})}),b?null:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",marginTop:24,marginBottom:20,children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendedBlockUnit=a}),98);
__d("WAWebRecommendedNewsletterBlock.react",["WAWebNewsletterRecommendedV2BlockUnit.react","WAWebWamEnumChannelDirectoryEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useCallback;function a(a){var b=a.isLoading,c=a.newsletters,e=a.onNewsletterDirectorySearch;a=k(function(){e(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_BUTTON)},[e]);return j.jsx(d("WAWebNewsletterRecommendedV2BlockUnit.react").NewsletterRecommendedBlockUnit,{isLoading:b,newsletters:c,onSeeAllClick:a})}a.displayName=a.name+" [from "+f.id+"]";g.RecommendedNewsletterBlock=a}),98);
__d("WAWebNewsletterRecommendedUnitProvider.react",["WAWebCommonNewsletterStrings","WAWebNewsletterGatingUtils","WAWebNewsletterRecommendedUnit.flow","WAWebNewsletterRecommendedV2RowUnit.react","WAWebNewsletterRecommendedV3.react","WAWebRecommendedNewsletterBlock.react","WAWebUISpacing","WAWebWamEnumChannelDirectoryEntryPoint","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={recommendedUnitRow:{overflowAnchor:"x1046ku7",$$css:!0}};function a(a){var b=a.afterFollow,e=a.isLoading,f=a.layout,g=a.onSeeAllClick;a=a.recommendedNewsletters;if(d("WAWebNewsletterGatingUtils").isRecommendedUnitV3Enabled())return i.jsx(c("WAWebNewsletterRecommendedV3.react"),{onDiscoverMoreClick:function(){return g(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.SUGGESTED_CHANNELS)},loading:e,layout:f,recommendedNewsletters:a});switch(f){case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Block:return i.jsx(d("WAWebRecommendedNewsletterBlock.react").RecommendedNewsletterBlock,{isLoading:e,onNewsletterDirectorySearch:g,newsletters:a});case d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Row:return i.jsx(d("WAWebNewsletterRecommendedV2RowUnit.react").NewsletterRecommendedRowUnit,{isLoading:e,newsletters:a,onSeeAllClick:g,xstyle:[d("WAWebUISpacing").uiMargin.bottom13,j.recommendedUnitRow],afterFollow:b,title:d("WAWebCommonNewsletterStrings").getFindNewslettersText()})}}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterRecommendedUnitProvider=a}),98);
__d("WAWebNewsletterTabDrawerUtils",["WAWebFrontendConstants"],(function(a,b,c,d,e,f,g){function a(a){return a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>=a.scrollHeight-a.clientHeight}g.isScrollAtBottomOfList=a}),98);
__d("useWAWebNewsletterDirectoryResults",["WAWebChatEntryPoint","WAWebNetworkStatus","WAWebNewsletterDirectorySearchAction","react","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=function(a,b,c){if(a==null)return[];a=a.map(function(a,d){return{type:"NEWSLETTER_DIRECTORY_CELL",itemKey:"newsletter-"+a.id.toString(),newsletter:a,chatEntryPoint:b,index:d,directoryFunnelLogger:c}});return a};function a(a){var b=a.searchText,e=a.newsletterDirectoryFunnelLogger,f=a.countryCode,g=a.listView,h=a.skipSubscribedNewsletters,m=a.category,n=j(""),o=j(!1);a=k([]);var p=a[0],q=a[1];a=k(!1);var r=a[0],s=a[1];a=k(!1);var t=a[0],u=a[1];a=k([]);var v=a[0],w=a[1];a=k(!1);var x=a[0],y=a[1],z=c("useWAWebEventTargetValue")(c("WAWebNetworkStatus"),"change:online",function(){return!c("WAWebNetworkStatus").online}),A=i(function(){var a=b.trim(),c=a!=="";e.setSearchMode(c);return d("WAWebNewsletterDirectorySearchAction").fetchNewsletterDirectories({countryCodes:f===""?[]:[f],searchText:a,view:g,cursorToken:n.current,categories:m==null?[]:[m.type],skipSubscribedNewsletters:h}).then(function(a){var b,f=a.newsletters,g=a.pageInfo;a=a.subscribedNewsletters;n.current=(b=g==null?void 0:g.endCursor)!=null?b:"";o.current=(g==null?void 0:g.hasNextPage)===!0;b=l(f,c?d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectorySearch:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectory,e);g=l(a,c?d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectorySearch:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterDirectory,e);return[b,g]})["catch"](function(a){e.logServerError();throw a})},[b,e,f,g,m,h]);a=i(function(){!z&&!r&&(y(!0),n.current="",o.current=!1,A().then(function(a){var b=a[0];a=a[1];q(b);w(a)})["catch"](function(){s(!0)})["finally"](function(){y(!1)}))},[z,r,n,o,A]);var B=i(function(){u(!0),A().then(function(a){var b=a[0];a=a[1];q([].concat(p,b));w([].concat(v,a))})["finally"](function(){u(!1)})},[A,p,v]),C=i(function(){return o.current===!0&&!t},[o,t]),D=i(function(){return o.current},[o]);return[p,C,a,B,D,x,r,s,v]}g.useNewsletterDirectoryResults=a}),98);
__d("useWAWebNewsletterInboxSearch",["WAWebCommonNewsletterEnums","WAWebFuzzySearch","WAWebNewsletterMembershipUtil","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useCallback;function a(a){var b=a.filteredText,c=a.selectedFilter;a=i(function(a){var e=b.trim()!=="";return a.filter(function(a){if(!a.isNewsletter||a==null)return!1;if(e){var f;f=b==null?void 0:(f=b.toLocaleLowerCase())==null?void 0:f.trim();return k(a,f)}switch(c){case d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels:return d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a==null?void 0:a.newsletterMetadata);case d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.Unread:return a.optimisticUnreadCount>0||a.shouldShowUnreadDivider;case d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All:return!0}}).sort(function(a,c){return j({channelA:a,channelB:c,hasSearchText:e,searchText:b==null?void 0:(a=b.toLocaleLowerCase())==null?void 0:a.trim()})})},[b,c]);return a}function j(a){var b=a.channelA,c=a.channelB,e=a.searchText;a=a.hasSearchText;if(!a)return 0;a=(a=b.newsletterMetadata)==null?void 0:(b=a.name)==null?void 0:b.toLocaleLowerCase();b=(b=c.newsletterMetadata)==null?void 0:(c=b.name)==null?void 0:c.toLocaleLowerCase();if(a==null||a===""||b==null||b===""||e==null||e==="")return 0;if(e.toLowerCase()===a.toLowerCase())return-1;else if(e.toLowerCase()===b.toLowerCase())return 1;if(a.startsWith(e))return-1;else if(b.startsWith(e))return 1;if(a.includes(e))return-1;else if(b.includes(e))return 1;return d("WAWebFuzzySearch").fuzzyMatches(e,a).length-d("WAWebFuzzySearch").fuzzyMatches(e,b).length}function k(a,b){a=(a=a.newsletterMetadata)==null?void 0:(a=a.name)==null?void 0:a.toLocaleLowerCase();return a==null||a===""||b==null||b===""?!1:d("WAWebFuzzySearch").fuzzySearch(b,a)}g.useNewsletterInboxSearch=a;g.sortChannelResults=j}),98);
__d("useWAWebRecommendedNewsletters",["WAWebNewsletterDirectorySearchAction","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState,m=function(a){return a.filter(function(a){return a.isSuspendedOrTerminated()===!1&&((a=a.newsletterMetadata)==null?void 0:a.isPreview)===!0})};function a(){var a=l([]),b=a[0],e=a[1],f=k([]);a=l(!1);var g=a[0],h=a[1],n=c("useWAWebUnmountSignal")(),o=i(function(){e(m(f.current))},[]);j(function(){if(g||n.aborted)return;h(!0);d("WAWebNewsletterDirectorySearchAction").getRecommendedNewslettersAction().then(function(a){n.aborted||(f.current=a,o())})["finally"](function(){n.aborted||h(!1)})},[]);return[g,b]}g.useRecommendedNewsletters=a}),98);
__d("WAWebNewsletterTabDrawerContent.react",["fbt","WAWebChatEntryPoint","WAWebChatSearchQuery","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebNewsletterCellUtils","WAWebNewsletterCollection","WAWebNewsletterDirectoryFilterUtils","WAWebNewsletterDirectoryFunnelLogging","WAWebNewsletterDrawerListItem.react","WAWebNewsletterGatingUtils","WAWebNewsletterInboxSearch.react","WAWebNewsletterInboxSearchLogging","WAWebNewsletterRecommendedUnit.flow","WAWebNewsletterRecommendedUnitProvider.react","WAWebNewsletterTabDrawerUtils","WAWebSingleSelection","WAWebUserPrefsMeUser","WAWebWamEnumUpdateTabSearchEventType","react","useWAWebDebouncedSearch","useWAWebLazyRef","useWAWebNewsletterDirectoryResults","useWAWebNewsletterInboxSearch","useWAWebRecommendedNewsletters","useWAWebWindowSize"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useEffect,n=b.useMemo,o=b.useRef,p=b.useState,q=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.initialScrollTop,e=a.newsletters,f=a.onNewsletterDirectorySearch,g=a.setScrollTop,i=e.length<=0;a=d("useWAWebRecommendedNewsletters").useRecommendedNewsletters();var j=a[0];a=a[1];var r=p([]),t=r[0],u=r[1],v=o(),w=o(),x=o((r=b)!=null?r:0),y=o((r=b)!=null?r:0),z=o(!1),A=o(),B=o();r=o(new(d("WAWebNewsletterDirectoryFunnelLogging").NewsletterDirectoryFunnelLogger)());var C=c("useWAWebLazyRef")(function(){return new(c("WAWebFlatListController"))()}),D=c("useWAWebLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.itemKey})}),E=D.current,F=E.value,G=E.list,H=n(function(){return t.filter(function(a){return a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL||a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_DIRECTORY_CELL})},[t]);(G.length===0||H!==G)&&(E.init(H),F!=null&&E.setVal(F));G=p(d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.All);var I=G[0],J=G[1];H=c("useWAWebDebouncedSearch")(d("WAWebNewsletterGatingUtils").getNewsletterDirectorySearchDebounce());var K=H[0];E=H[1];var L=o(new(d("WAWebChatSearchQuery").SearchQuery)()),M=K.trim();F=d("useWAWebNewsletterDirectoryResults").useNewsletterDirectoryResults({searchText:M,countryCode:d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").getCountryCodeIso(d("WAWebUserPrefsMeUser").getMeUser().user),listView:d("WAWebNewsletterDirectoryFilterUtils").NewsletterDirectoryListView.Recommended,newsletterDirectoryFunnelLogger:r.current,skipSubscribedNewsletters:!0});var N=F[0],O=F[1],P=F[2],Q=F[3];F[4];var R=F[5],S=d("useWAWebNewsletterInboxSearch").useNewsletterInboxSearch({filteredText:M,selectedFilter:I});G=c("useWAWebWindowSize")();H=G.width;m(function(){var a=Math.ceil(window.innerWidth/10),b=S(e);b=s({subscribedNewsletters:b,directoryNewsletters:N,screenWidth:a,selectedFilter:I,trimmedSearchText:M,setSelectedFilter:J,loadingDirectory:R});u(b)},[e,H,S,I,N,M,R]);var T=l(function(){A.current&&c("WAWebFocusTracer").focus(A.current)},[A]);m(function(){T()},[T]);m(function(){d("WAWebNewsletterGatingUtils").isNewsletterInboxSearchDirectoryIntegrationEnabled()&&M!==""&&P()},[P,M]);m(function(){if(M===""){var a;(a=C.current)==null?void 0:a.setScrollFromStart(y.current);return}(a=w.current)==null?void 0:a.scrollIntoViewIfNeeded(0)},[M,C]);m(function(){var a;if((a=B.current)==null?void 0:a.hasFocus())return;var b=c("WAWebNewsletterCollection").getActive();a=t.find(function(a){return a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL&&a.newsletter===b});a!=null&&D.current.setVal(a)},[t,D]);m(function(){if(t.length&&z.current===!1){var a;C.current.setScrollFromStart((a=b)!=null?a:0);z.current=!0}return function(){return g==null?void 0:g(x.current)}},[t.length,b,g,C]);r=function(a){x.current=a.currentTarget.scrollTop;K.trim()===""&&(y.current=a.currentTarget.scrollTop);a=v.current;if(a==null||M===""||!d("WAWebNewsletterGatingUtils").isNewsletterInboxSearchDirectoryIntegrationEnabled())return;d("WAWebNewsletterTabDrawerUtils").isScrollAtBottomOfList(a)&&O()&&Q()};var U=function(a){if(M!=="")switch(a.type){case d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL:d("WAWebNewsletterInboxSearchLogging").logNewsletterInboxSearchEvent({updateTabSearchEventType:d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE.FOLLOWED_CHANNEL_TAP});break;case d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_DIRECTORY_CELL:d("WAWebNewsletterInboxSearchLogging").logNewsletterInboxSearchEvent({updateTabSearchEventType:d("WAWebWamEnumUpdateTabSearchEventType").UPDATE_TAB_SEARCH_EVENT_TYPE.DIRECTORY_CHANNEL_TAP});break}D.current.setVal(a)},V=function(){var a=v.current;if(a==null||i)return;a.scrollTo({top:a.scrollHeight})},W=function(){if(w.current){var a=D.current.value;if(a==null)return;var b=t.findIndex(function(b){return b.itemKey===a.itemKey});if(b!==-1){var c;(c=w.current)==null?void 0:c.scrollIntoViewIfNeeded(b,100)}}};F=function(a){if(e.length===0)return;a==null?void 0:a.preventDefault();a==null?void 0:a.stopPropagation();a=D.current.prev();a>-1&&(D.current.setPrev(!0),W())};G=function(a){if(e.length===0)return;a==null?void 0:a.preventDefault();a==null?void 0:a.stopPropagation();a=D.current.next();D.current.index!==a&&(D.current.setNext(!0),W())};H={down:G,up:F};G=!i&&d("WAWebNewsletterGatingUtils").isNewsletterInboxSearchEnabled()?k.jsx(d("WAWebNewsletterInboxSearch.react").NewsletterInboxSearch,{ref:B,filteredText:M,handleSearchChange:E,handleSelectNewsletter:U,listData:t,newsletters:e,selectedFilter:I,setSelectedFilter:J,searchQuery:L.current}):null;F=M===""&&!i&&I!==d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels&&(a.length>0||j);return k.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:A,handlers:H,className:"x5yr21d x78zum5 xdt5ytf x6ikm8r x10wlt62",children:[G,i&&k.jsx(d("WAWebNewsletterRecommendedUnitProvider.react").NewsletterRecommendedUnitProvider,{isLoading:j,layout:d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Block,recommendedNewsletters:a,onSeeAllClick:f,afterFollow:V}),k.jsxs(c("WAWebFlatListContainer.react"),{className:"x78zum5 xdt5ytf x5yr21d x1odjw0f",ref:v,onScroll:r,flatListControllers:[C.current],children:[k.jsx(q,{ref:w,data:t,className:"x1xzczws",flatListController:C.current,direction:"vertical",role:"navigation","aria-label":h._("__JHASH__hpglDTjcwtr__JHASH__").toString(),renderItem:function(a){return k.jsx(d("WAWebNewsletterDrawerListItem.react").NewsletterDrawerListItem,{data:a,selectionRef:D.current,onRecommendedUnitFollow:V,onSelect:U,onNewsletterDirectorySearch:f,loading:j,bottomDirectoryIndex:N.length-1,firstCellInList:a.type===d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL&&a.firstCellInList&&M!=="",searchQuery:L.current})}}),F&&k.jsx(d("WAWebNewsletterRecommendedUnitProvider.react").NewsletterRecommendedUnitProvider,{isLoading:j,layout:d("WAWebNewsletterRecommendedUnit.flow").RecommendedUnitLayoutType.Row,recommendedNewsletters:a,onSeeAllClick:f,afterFollow:V})]})]})}a.displayName=a.name+" [from "+f.id+"]";var r=58;function s(a){var b=a.subscribedNewsletters,c=a.directoryNewsletters,e=a.loadingDirectory,f=a.selectedFilter,g=a.setSelectedFilter,h=a.screenWidth;a=a.trimmedSearchText;var i=[];f===d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.Unread&&b.length===0&&i.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_EMPTY_UNREAD,itemKey:"empty_unread_list",setSelectedFilter:g,height:200});g=a!=="";g&&b.length>0&&i.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"followed_channels_search_header",title:d("WAWebCommonNewsletterStrings").getFollowedChannelsSearchHeader(),height:r,hasTopBorder:!1});b.forEach(function(a,b){var c=d("WAWebNewsletterCellUtils").getNewsletterCellHeight(a,h);i.push({itemKey:"newsletter-local-"+a.id.toString(),type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CHAT_CELL,height:c,heightStyle:d("WAWebNewsletterCellUtils").newsletterCellHeightToHeightStyle(c),newsletter:a,index:b,firstCellInList:b===0,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.NewsletterChatlist})});g&&!e&&(c.length>0?(i.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_CELL_HEADER,itemKey:"other_channels_search_header",title:d("WAWebCommonNewsletterStrings").getOtherChannelsSearchHeader(),height:r,hasTopBorder:!0}),i.push.apply(i,c)):b.length===0&&i.push({type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.NEWSLETTER_DIRECTORY_NO_RESULTS,itemKey:"no_results_found",height:120}),i.push({itemKey:"search-footer",type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.SEARCH_FOOTER}));f===d("WAWebCommonNewsletterEnums").NewsletterInboxFilterTypes.MyChannels&&a===""&&i.push({itemKey:"my-newsletters-footer",type:d("WAWebNewsletterDrawerListItem.react").TabCellDataType.MY_NEWSLETTERS_FOOTER});return i}g.NewsletterTabDrawerContent=a}),226);
__d("WAWebNewsletterTabDrawerLoadingShimmer.react",["WAWebDrawerSection.react","WAWebNewsletterInboxShimmer.react","WAWebNewsletterRecommendationsShimmer.react","react","useWAWebWindowSize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j=128,k=124,l=2,m=3;function a(a){a=a.newsletterCount;var b=c("useWAWebWindowSize")();b=b.height;var e=Math.floor(b/j);e=a>e?e:a;var f=i.jsx(c("WAWebNewsletterInboxShimmer.react"),{count:e});a===0&&(e=Math.min(Math.floor(b/k)-l,m),f=i.jsx(d("WAWebNewsletterRecommendationsShimmer.react").NewsletterRecommendationsBlockShimmer,{count:e}));return i.jsx(c("WAWebDrawerSection.react"),{theme:"full-height",children:f})}a.displayName=a.name+" [from "+f.id+"]";g.LoadingTab=a}),98);
__d("WAWebNewsletterTabMenuDropdown.react",["WAWebCommonNewsletterStrings","WAWebDropdown.react","WAWebDropdownItem.react","WAWebNewsletterGatingUtils","WAWebWamEnumChannelDirectoryEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i;a=i||d("react");var j=h||(h=c("react"));b=a.forwardRef;var k=a.useCallback;e=b(function(a,b){var c=a.onCreateNewsletter,e=a.onNewsletterDirectorySearch;a=[];var f=k(function(){e(d("WAWebWamEnumChannelDirectoryEntryPoint").CHANNEL_DIRECTORY_ENTRY_POINT.FIND_CHANNELS_MENU)},[e]);d("WAWebNewsletterGatingUtils").isNewsletterCreationEnabled()&&a.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:c,testid:void 0,children:d("WAWebCommonNewsletterStrings").getCreateChannelText()},"newsletter-tab-overflow-menu-create-channel"));d("WAWebNewsletterGatingUtils").isNewsletterDirectoryEnabled()&&a.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:f,testid:void 0,children:d("WAWebCommonNewsletterStrings").getFindNewslettersText()},"newsletter-tab-overflow-menu-find-channels"));return j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:a},"NewsletterMenuDropdown")});g.NewsletterTabMenuDropdown=e}),98);
__d("WAWebNewsletterTabDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerHeader.react","WAWebKeyboardHotKeys.react","WAWebMenuBar.react","WAWebNewsletterFailures.react","WAWebNewsletterGatingUtils","WAWebNewsletterLoadingStageManager","WAWebNewsletterTabDrawerContent.react","WAWebNewsletterTabDrawerLoadingShimmer.react","WAWebNewsletterTabMenuDropdown.react","WAWebPlusLargeIcon","WAWebTabOrder","WAWebTopMenuRedesignGatingUtils","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");a=(i||(i=d("react"))).forwardRef;var l={drawer:{backgroundColor:"x150wa6m",$$css:!0}};b=a(function(a,b){var e=d("useWAWebModelValues").useModelValues(d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStageManager,["stage"]);e=e.stage;var f=(d("WAWebNewsletterGatingUtils").isNewsletterCreationEnabled()||d("WAWebNewsletterGatingUtils").isNewsletterDirectoryEnabled())&&k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.NEWSLETTER_TAB_HEADER,testid:void 0,icon:k.jsx(d("WAWebPlusLargeIcon").PlusLargeIcon,{}),title:h._("__JHASH__t6-NJgD7pr6__JHASH__"),children:k.jsx(d("WAWebNewsletterTabMenuDropdown.react").NewsletterTabMenuDropdown,{onCreateNewsletter:a.onCreateNewsletter,onNewsletterDirectorySearch:a.onNewsletterDirectorySearch})}),g=null;switch(e){case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.Failed:g=k.jsx(d("WAWebNewsletterFailures.react").NewsletterFailedBootstrap,{});break;case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.Loading:g=k.jsx(d("WAWebNewsletterTabDrawerLoadingShimmer.react").LoadingTab,{newsletterCount:a.newsletters.length});break;case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.None:case d("WAWebNewsletterLoadingStageManager").NewsletterLoadingStage.Finished:g=k.jsx(d("WAWebNewsletterTabDrawerContent.react").NewsletterTabDrawerContent,{initialScrollTop:a.initialScrollTop,newsletters:a.newsletters,setScrollTop:a.setScrollTop,onNewsletterDirectorySearch:a.onNewsletterDirectorySearch});break}return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{"aria-label":h._("__JHASH__3LjqRmxPion__JHASH__"),"data-testid":void 0,children:k.jsxs(c("WAWebDrawer.react"),{ref:b,xstyle:l.drawer,testid:void 0,tsNavigationData:d("WAWebNewsletterGatingUtils").isNewsletterTSLEnabled()?{surface:"channel-updates-home"}:void 0,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__K9vLRzd9Xkc__JHASH__"),type:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE,onBack:a.onBack,children:f}),g]})})});e=b;g["default"]=e}),226);
__d("WAWebNewsletterTabFlow.react",["WANullthrows","WATimeUtils","WAWebDrawerManager","WAWebNewNewsletterInfoDrawer.react","WAWebNewsletterAdminFunnelLogging","WAWebNewsletterCollection","WAWebNewsletterDirectoryFlowLoadable","WAWebNewsletterTabDrawer.react","WAWebNewsletterTabFlowStep","WAWebOpenNewsletterCreationFlow","WAWebOpenNewsletterDirectory","WAWebUserPrefsNewsletter","WAWebWamEnumAdminFlowType","react","useWAWebEventTargetValue","useWAWebFlow","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function m(){var a=l(!1),b=a[0],e=a[1];d("useWAWebListener").useListeners(c("WAWebNewsletterCollection").toArray().filter(function(a){return a.newsletterMetadata!=null}).map(function(a){return{source:c("WANullthrows")(a.newsletterMetadata),eventOrEvents:"change:isSubscribedOrOwned",callback:function(){return e(!b)}}}));d("useWAWebListener").useListeners(c("WAWebNewsletterCollection").toArray().map(function(a){return{source:c("WANullthrows")(a),eventOrEvents:["change:previewMessage","change:derivedLastAddOnPreview","change:active"],callback:function(){return e(!b)}}}));a=c("useWAWebEventTargetValue")(c("WAWebNewsletterCollection"),["add","remove","reset","sort"],function(){return c("WAWebNewsletterCollection").filter(function(a){return(a=a.newsletterMetadata)==null?void 0:a.isSubscribedOrOwned})},[b]);return a}function a(a){var b=k(0),e=a.onBack,f=a.initialStep;f=f===void 0?d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterTab:f;var g=a.adminFunnelLogger;g=g===void 0?new(d("WAWebNewsletterAdminFunnelLogging").NewsletterAdminFunnelLogger)(d("WAWebWamEnumAdminFlowType").ADMIN_FLOW_TYPE.CREATION):g;a=a.directoryEntryPoint;var h=function(){d("WAWebUserPrefsNewsletter").setNewsletterTabLastSeenTimestamp(d("WATimeUtils").unixTime()),c("WAWebNewsletterCollection").trigger("newsletter_tab_close"),e!=null?e():d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()};f=d("useWAWebFlow").useFlow(f,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:h});var i=f[0],l=f[1],n=k(a),o=k(g);f=m();if(l.step==null)return null;var p;switch(l.step){case d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterTab:p=j.jsx(c("WAWebNewsletterTabDrawer.react"),{newsletters:f,onBack:h,initialScrollTop:b.current,setScrollTop:function(a){b.current=a},onCreateNewsletter:function(){d("WAWebOpenNewsletterCreationFlow").openNewsletterCreationFlow({tosAcceptCallback:function(a){l.push(d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.CreateNewsletter),o.current=a}})},onNewsletterDirectorySearch:function(a){d("WAWebOpenNewsletterDirectory").openNewsletterDirectory({tosAcceptCallback:function(){n.current=a,l.push(d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterDirectoryFlow)}})}});break;case d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.CreateNewsletter:p=j.jsx(c("WAWebNewNewsletterInfoDrawer.react"),{onBack:function(){return l.pop()},adminFunnelLogger:o.current});break;case d("WAWebNewsletterTabFlowStep").NewsletterTabFlowStep.NewsletterDirectoryFlow:p=j.jsx(d("WAWebNewsletterDirectoryFlowLoadable").NewsletterDirectoryFlowLoadable,{directoryEntryPoint:n.current,onBack:function(){return l.pop()}});break}return j.jsx(i,{flow:l,children:p})}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterTabFlow=a}),98);